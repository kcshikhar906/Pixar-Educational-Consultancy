[debug] [2025-08-13T04:19:55.493Z] ----------------------------------------------------------------------
[debug] [2025-08-13T04:19:55.495Z] Command:       /nix/store/ws50yvm6vzlzf7jzz6n7xh4szddrack1-nodejs-20.19.1/bin/node /home/user/.global_modules/bin/firebase deploy --only functions
[debug] [2025-08-13T04:19:55.496Z] CLI Version:   14.12.0
[debug] [2025-08-13T04:19:55.496Z] Platform:      linux
[debug] [2025-08-13T04:19:55.496Z] Node Version:  v20.19.1
[debug] [2025-08-13T04:19:55.496Z] Time:          Wed Aug 13 2025 04:19:55 GMT+0000 (Coordinated Universal Time)
[debug] [2025-08-13T04:19:55.496Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-13T04:19:55.891Z] No OAuth tokens found
[debug] [2025-08-13T04:19:55.892Z] No OAuth tokens found
[error] Failed to fetch Firebase Project from current Studio Workspace: Unable to refresh auth: not yet authenticated.
[debug] [2025-08-13T04:19:55.897Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:19:55.898Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:19:55.898Z] [iam] checking project pixar-educational-consultancy for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-13T04:19:55.898Z] No OAuth tokens found
[debug] [2025-08-13T04:19:55.899Z] No OAuth tokens found
[debug] [2025-08-13T04:19:55.899Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:19:55.899Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:19:55.900Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions [none]
[debug] [2025-08-13T04:19:55.900Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions x-goog-quota-user=projects/pixar-educational-consultancy
[debug] [2025-08-13T04:19:55.901Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-13T04:19:56.730Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions 200
[debug] [2025-08-13T04:19:56.730Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-13T04:19:56.731Z] No OAuth tokens found
[debug] [2025-08-13T04:19:56.731Z] No OAuth tokens found
[debug] [2025-08-13T04:19:56.734Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:19:56.734Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:19:56.734Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/pixar-educational-consultancy/serviceAccounts/pixar-educational-consultancy@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-13T04:19:56.734Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/pixar-educational-consultancy/serviceAccounts/pixar-educational-consultancy@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-13T04:19:57.745Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/pixar-educational-consultancy/serviceAccounts/pixar-educational-consultancy@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2025-08-13T04:19:57.746Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/pixar-educational-consultancy/serviceAccounts/pixar-educational-consultancy@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2025-08-13T04:19:57.750Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/pixar-educational-consultancy/serviceAccounts/pixar-educational-consultancy@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/pixar-educational-consultancy/serviceAccounts/pixar-educational-consultancy@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'pixar-educational-consultancy'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2025-08-13T04:20:25.361Z] No OAuth tokens found
[debug] [2025-08-13T04:20:25.361Z] No OAuth tokens found
[debug] [2025-08-13T04:20:25.361Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:25.362Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:25.362Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy [none]
[debug] [2025-08-13T04:20:26.170Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy 200
[debug] [2025-08-13T04:20:26.170Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy {"projectNumber":"286970299360","projectId":"pixar-educational-consultancy","lifecycleState":"ACTIVE","name":"Pixar Educational Consultancy","labels":{"monospace-workspace-id":"studio-7226754057","firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-06-10T03:29:17.277042Z"}
[info] i  functions: preparing codebase metrics for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-13T04:20:26.176Z] No OAuth tokens found
[debug] [2025-08-13T04:20:26.178Z] No OAuth tokens found
[debug] [2025-08-13T04:20:26.178Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:26.178Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:26.178Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/pixar-educational-consultancy/adminSdkConfig [none]
[debug] [2025-08-13T04:20:26.769Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/pixar-educational-consultancy/adminSdkConfig 200
[debug] [2025-08-13T04:20:26.769Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/pixar-educational-consultancy/adminSdkConfig {"projectId":"pixar-educational-consultancy","storageBucket":"pixar-educational-consultancy.firebasestorage.app"}
[debug] [2025-08-13T04:20:26.770Z] No OAuth tokens found
[debug] [2025-08-13T04:20:26.771Z] No OAuth tokens found
[debug] [2025-08-13T04:20:26.771Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:26.771Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:26.771Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/pixar-educational-consultancy/configs [none]
[debug] [2025-08-13T04:20:27.568Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/pixar-educational-consultancy/configs 200
[debug] [2025-08-13T04:20:27.569Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/pixar-educational-consultancy/configs {}
[debug] [2025-08-13T04:20:27.571Z] Validating nodejs source
[debug] [2025-08-13T04:20:28.163Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.1",
    "firebase-functions": "^5.1.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^7.18.0",
    "@typescript-eslint/parser": "^7.18.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.29.1",
    "typescript": "^5.4.5"
  },
  "private": true
}
[debug] [2025-08-13T04:20:28.163Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase metrics to determine what to deploy 
[debug] [2025-08-13T04:20:28.178Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-13T04:20:28.236Z] Found firebase-functions binary at '/home/user/studio/dashboard/node_modules/.bin/firebase-functions'
[info] Serving at port 8437

[debug] [2025-08-13T04:20:29.033Z] Got response from /__/functions.yaml {"endpoints":{"onStudentChange":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"students/{studentId}"},"retry":false},"entryPoint":"onStudentChange"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-13T04:20:33.096Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:33.096Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:33.097Z] [iam] checking project pixar-educational-consultancy for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-13T04:20:33.097Z] No OAuth tokens found
[debug] [2025-08-13T04:20:33.100Z] No OAuth tokens found
[debug] [2025-08-13T04:20:33.101Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:33.101Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:33.101Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions [none]
[debug] [2025-08-13T04:20:33.101Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions x-goog-quota-user=projects/pixar-educational-consultancy
[debug] [2025-08-13T04:20:33.101Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-13T04:20:33.866Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions 200
[debug] [2025-08-13T04:20:33.866Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-13T04:20:33.867Z] No OAuth tokens found
[debug] [2025-08-13T04:20:33.867Z] No OAuth tokens found
[debug] [2025-08-13T04:20:33.867Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:33.867Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:33.869Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/pixar-educational-consultancy/instances pageSize=100&pageToken=
[debug] [2025-08-13T04:20:34.782Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/pixar-educational-consultancy/instances 200
[debug] [2025-08-13T04:20:34.782Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/pixar-educational-consultancy/instances {}
[info] i  functions: preparing dashboard directory for uploading... 
[info] i  functions: packaged /home/user/studio/dashboard (100.77 KB) for uploading 
[debug] [2025-08-13T04:20:34.923Z] No OAuth tokens found
[debug] [2025-08-13T04:20:34.924Z] No OAuth tokens found
[debug] [2025-08-13T04:20:34.924Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:34.924Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:34.924Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/pixar-educational-consultancy/locations/-/functions [none]
[debug] [2025-08-13T04:20:35.531Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/pixar-educational-consultancy/locations/-/functions 200
[debug] [2025-08-13T04:20:35.531Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/pixar-educational-consultancy/locations/-/functions {}
[debug] [2025-08-13T04:20:35.532Z] No OAuth tokens found
[debug] [2025-08-13T04:20:35.532Z] No OAuth tokens found
[debug] [2025-08-13T04:20:35.533Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:35.533Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:35.533Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-13T04:20:36.814Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/-/functions 200
[debug] [2025-08-13T04:20:36.817Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/-/functions {}
[debug] [2025-08-13T04:20:36.826Z] No OAuth tokens found
[debug] [2025-08-13T04:20:36.826Z] No OAuth tokens found
[debug] [2025-08-13T04:20:36.826Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:36.826Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:36.829Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/pixar-educational-consultancy/databases/(default) [none]
[debug] [2025-08-13T04:20:37.867Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/pixar-educational-consultancy/databases/(default) 200
[debug] [2025-08-13T04:20:37.867Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/pixar-educational-consultancy/databases/(default) {"name":"projects/pixar-educational-consultancy/databases/(default)","uid":"2497220c-4454-492f-998e-d477e902b62d","createTime":"2025-08-04T11:10:37.576365Z","updateTime":"2025-08-04T11:10:37.576365Z","locationId":"us-central1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-08-13T03:20:37.790998Z","appEngineIntegrationMode":"DISABLED","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":false,"etag":"IJe+2NT3ho8DMIPxxLSw8o4D"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-13T04:20:37.871Z] No OAuth tokens found
[debug] [2025-08-13T04:20:37.872Z] No OAuth tokens found
[debug] [2025-08-13T04:20:37.872Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:37.872Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-13T04:20:37.872Z] No OAuth tokens found
[debug] [2025-08-13T04:20:37.872Z] No OAuth tokens found
[debug] [2025-08-13T04:20:37.872Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:37.873Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:37.873Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-13T04:20:37.873Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/286970299360
[debug] [2025-08-13T04:20:37.873Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-13T04:20:37.875Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-13T04:20:37.875Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/286970299360
[debug] [2025-08-13T04:20:37.875Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-13T04:20:38.961Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-13T04:20:38.961Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-286970299360@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"103386849890502960612"}}
[debug] [2025-08-13T04:20:39.005Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-13T04:20:39.005Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/286970299360/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-286970299360@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"115193459468135310900"}}
[debug] [2025-08-13T04:20:39.010Z] No OAuth tokens found
[debug] [2025-08-13T04:20:39.010Z] No OAuth tokens found
[debug] [2025-08-13T04:20:39.015Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:39.016Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:39.016Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/286970299360 [none]
[debug] [2025-08-13T04:20:39.218Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/286970299360 403
[debug] [2025-08-13T04:20:39.218Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/286970299360 {"error":{"code":403,"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"286970299360","service":"compute.googleapis.com","serviceTitle":"Compute Engine API","consumer":"projects/286970299360","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360"}]}]}}
[debug] [2025-08-13T04:20:39.219Z] unable to look up default compute service account. Falling back to 286970299360-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"286970299360","service":"compute.googleapis.com","serviceTitle":"Compute Engine API","consumer":"projects/286970299360","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/286970299360 had HTTP Error: 403, Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-13T04:20:39.220Z] No OAuth tokens found
[debug] [2025-08-13T04:20:39.220Z] No OAuth tokens found
[debug] [2025-08-13T04:20:39.220Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:39.223Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:39.223Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/286970299360:getIamPolicy [none]
[debug] [2025-08-13T04:20:40.103Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/286970299360:getIamPolicy 200
[debug] [2025-08-13T04:20:40.103Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/286970299360:getIamPolicy {"version":1,"etag":"BwY8Nwdwqv0=","bindings":[{"role":"roles/aiplatform.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-aiplatform.iam.gserviceaccount.com"]},{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:286970299360@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-286970299360@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-286970299360@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@pixar-educational-consultancy.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:286970299360-compute@developer.gserviceaccount.com","serviceAccount:286970299360@cloudservices.gserviceaccount.com"]},{"role":"roles/eventarc.eventReceiver","members":["serviceAccount:286970299360-compute@developer.gserviceaccount.com"]},{"role":"roles/eventarc.serviceAgent","members":["serviceAccount:286970299360-compute@developer.gserviceaccount.com","serviceAccount:service-286970299360@gcp-sa-eventarc.iam.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-286970299360@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@pixar-educational-consultancy.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@pixar-educational-consultancy.iam.gserviceaccount.com"]},{"role":"roles/firebaseappcheck.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@pixar-educational-consultancy.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@pixar-educational-consultancy.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@pixar-educational-consultancy.iam.gserviceaccount.com"]},{"role":"roles/firebaseml.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-firebasevertexai.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-286970299360@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-286970299360@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@pixar-educational-consultancy.iam.gserviceaccount.com","serviceAccount:service-286970299360@gcp-sa-pubsub.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:info@pixaredu.com","user:shikharkc63@gmail.com"]},{"role":"roles/resourcemanager.projectIamAdmin","members":["user:info@pixaredu.com","user:shikharkc63@gmail.com"]},{"role":"roles/run.invoker","members":["serviceAccount:286970299360-compute@developer.gserviceaccount.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-286970299360@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin_withcond_e1a498f59ed3d1d586cf","members":["serviceAccount:service-286970299360@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@pixar-educational-consultancy.iam.gserviceaccount.com"]}]}
[debug] [2025-08-13T04:20:40.105Z] No OAuth tokens found
[debug] [2025-08-13T04:20:40.105Z] No OAuth tokens found
[debug] [2025-08-13T04:20:40.106Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:40.106Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:40.107Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy [none]
[debug] [2025-08-13T04:20:40.312Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy 200
[debug] [2025-08-13T04:20:40.312Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/pixar-educational-consultancy {"projectNumber":"286970299360","projectId":"pixar-educational-consultancy","lifecycleState":"ACTIVE","name":"Pixar Educational Consultancy","labels":{"monospace-workspace-id":"studio-7226754057","firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-06-10T03:29:17.277042Z"}
[debug] [2025-08-13T04:20:40.312Z] No OAuth tokens found
[debug] [2025-08-13T04:20:40.312Z] No OAuth tokens found
[debug] [2025-08-13T04:20:40.313Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:40.313Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:40.313Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/286970299360 [none]
[debug] [2025-08-13T04:20:40.503Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/286970299360 403
[debug] [2025-08-13T04:20:40.503Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/286970299360 {"error":{"code":403,"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360","consumer":"projects/286970299360","serviceTitle":"Compute Engine API","service":"compute.googleapis.com","containerInfo":"286970299360"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360"}]}]}}
[debug] [2025-08-13T04:20:40.503Z] unable to look up default compute service account. Falling back to 286970299360-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360","consumer":"projects/286970299360","serviceTitle":"Compute Engine API","service":"compute.googleapis.com","containerInfo":"286970299360"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/286970299360 had HTTP Error: 403, Compute Engine API has not been used in project 286970299360 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=286970299360 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-13T04:20:40.507Z] No OAuth tokens found
[debug] [2025-08-13T04:20:40.508Z] No OAuth tokens found
[debug] [2025-08-13T04:20:40.508Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:40.508Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:40.508Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/pixar-educational-consultancy/billingInfo [none]
[debug] [2025-08-13T04:20:42.024Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/pixar-educational-consultancy/billingInfo 200
[debug] [2025-08-13T04:20:42.024Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/pixar-educational-consultancy/billingInfo {"name":"projects/pixar-educational-consultancy/billingInfo","projectId":"pixar-educational-consultancy","billingAccountName":"billingAccounts/01F957-D3FB92-B3E710","billingEnabled":true}
[debug] [2025-08-13T04:20:42.029Z] No OAuth tokens found
[debug] [2025-08-13T04:20:42.029Z] No OAuth tokens found
[debug] [2025-08-13T04:20:42.032Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:42.033Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:42.033Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-08-13T04:20:43.085Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-08-13T04:20:43.086Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com/a31a1cb8-b637-4ee9-9642-dd440184a304.zip?GoogleAccessId=service-286970299360@gcf-admin-robot.iam.gserviceaccount.com&Expires=1755060642&Signature=O3mGHRqmGyAcf%2B80IzOSQVC%2BfaEyI6AwO0aFT7UVZvagc3zgvR6LPHqrv4gDONzDjwUWYDx9bmmDLCfjhYPQhJGQyd0rb5xdi2b%2BvD%2FKz4mdJi8S53mLT%2FtQzEryjusSYVnf%2FntsSZjkTpdlh5TYvFC3WBR9HYHlZstu5BGxie8y4awUBsrOC9mzQg2BDcrXfvtxosOI0F3CCqAgtYk3NtTXuvW6I3ZahO0LzI0oIAoHMsOSo5NSn%2FzYkHAda8sIR8flnazk9UHAscYe82m0hnKyhqCXfW8GHVp4hchkb7vDupL1UILBvZg9HbcvTmSzHn%2BIS9c6va7xaDnBFY%2BsNA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com","object":"a31a1cb8-b637-4ee9-9642-dd440184a304.zip"}}
[debug] [2025-08-13T04:20:43.088Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com/a31a1cb8-b637-4ee9-9642-dd440184a304.zip GoogleAccessId=service-286970299360%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1755060642&Signature=O3mGHRqmGyAcf%2B80IzOSQVC%2BfaEyI6AwO0aFT7UVZvagc3zgvR6LPHqrv4gDONzDjwUWYDx9bmmDLCfjhYPQhJGQyd0rb5xdi2b%2BvD%2FKz4mdJi8S53mLT%2FtQzEryjusSYVnf%2FntsSZjkTpdlh5TYvFC3WBR9HYHlZstu5BGxie8y4awUBsrOC9mzQg2BDcrXfvtxosOI0F3CCqAgtYk3NtTXuvW6I3ZahO0LzI0oIAoHMsOSo5NSn%2FzYkHAda8sIR8flnazk9UHAscYe82m0hnKyhqCXfW8GHVp4hchkb7vDupL1UILBvZg9HbcvTmSzHn%2BIS9c6va7xaDnBFY%2BsNA%3D%3D
[debug] [2025-08-13T04:20:43.088Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com/a31a1cb8-b637-4ee9-9642-dd440184a304.zip [stream]
[debug] [2025-08-13T04:20:43.668Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com/a31a1cb8-b637-4ee9-9642-dd440184a304.zip 200
[debug] [2025-08-13T04:20:43.668Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com/a31a1cb8-b637-4ee9-9642-dd440184a304.zip [omitted]
[info] ✔  functions: dashboard folder uploaded successfully 
[info] i  functions: creating Node.js 22 (2nd Gen) function metrics:onStudentChange(us-central1)... 
[debug] [2025-08-13T04:20:43.683Z] No OAuth tokens found
[debug] [2025-08-13T04:20:43.683Z] No OAuth tokens found
[debug] [2025-08-13T04:20:43.683Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:43.683Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:43.683Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions functionId=onStudentChange
[debug] [2025-08-13T04:20:43.683Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions {"name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-uploads-286970299360.us-central1.cloudfunctions.appspot.com","object":"a31a1cb8-b637-4ee9-9642-dd440184a304.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"triggerRegion":"us-central1"}}
[debug] [2025-08-13T04:20:45.556Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions 200
[debug] [2025-08-13T04:20:45.556Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/functions {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-08-13T04:20:45.557Z] No OAuth tokens found
[debug] [2025-08-13T04:20:45.560Z] No OAuth tokens found
[debug] [2025-08-13T04:20:45.560Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:45.560Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:45.561Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:20:46.524Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:20:46.524Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:20:47.026Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:20:47.027Z] No OAuth tokens found
[debug] [2025-08-13T04:20:47.027Z] No OAuth tokens found
[debug] [2025-08-13T04:20:47.027Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:47.027Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:47.027Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:20:47.986Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:20:47.986Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:20:48.988Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:20:48.988Z] No OAuth tokens found
[debug] [2025-08-13T04:20:48.989Z] No OAuth tokens found
[debug] [2025-08-13T04:20:48.989Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:48.991Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:48.991Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:20:49.958Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:20:49.958Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:20:51.961Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:20:51.962Z] No OAuth tokens found
[debug] [2025-08-13T04:20:51.962Z] No OAuth tokens found
[debug] [2025-08-13T04:20:51.962Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:51.963Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:51.963Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:20:52.877Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:20:52.877Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:20:56.882Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:20:56.884Z] No OAuth tokens found
[debug] [2025-08-13T04:20:56.884Z] No OAuth tokens found
[debug] [2025-08-13T04:20:56.885Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:20:56.885Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:20:56.885Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:20:57.822Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:20:57.826Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:21:05.830Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:21:05.836Z] No OAuth tokens found
[debug] [2025-08-13T04:21:05.836Z] No OAuth tokens found
[debug] [2025-08-13T04:21:05.838Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:21:05.838Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:21:05.838Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:21:06.805Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:21:06.810Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:21:16.820Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:21:16.821Z] No OAuth tokens found
[debug] [2025-08-13T04:21:16.822Z] No OAuth tokens found
[debug] [2025-08-13T04:21:16.822Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:21:16.822Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:21:16.822Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:21:17.790Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:21:17.791Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:21:27.797Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:21:27.801Z] No OAuth tokens found
[debug] [2025-08-13T04:21:27.805Z] No OAuth tokens found
[debug] [2025-08-13T04:21:27.805Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:21:27.805Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:21:27.805Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:21:28.764Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:21:28.778Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/286970299360/locations/us-central1/builds/03d8ae43-abde-46eb-8016-f1a05a882966"},"done":false}
[debug] [2025-08-13T04:21:38.784Z] [create-metrics-us-central1-onStudentChange] Retrying task index 0
[debug] [2025-08-13T04:21:38.791Z] No OAuth tokens found
[debug] [2025-08-13T04:21:38.791Z] No OAuth tokens found
[debug] [2025-08-13T04:21:38.792Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:21:38.792Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:21:38.792Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 [none]
[debug] [2025-08-13T04:21:39.759Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 200
[debug] [2025-08-13T04:21:39.765Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34 {"name":"projects/pixar-educational-consultancy/locations/us-central1/operations/operation-1755058844563-63c377afd7a19-b5f15af0-7cd4ae34","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-13T04:20:45.461410163Z","endTime":"2025-08-13T04:21:38.055370570Z","target":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/pixar-educational-consultancy/locations/us-central1/functions/onStudentChange","buildConfig":{"runtime":"nodejs22","entryPoint":"onStudentChange","source":{"storageSource":{"bucket":"gcf-v2-sources-286970299360-us-central1","object":"onStudentChange/function-source.zip","generation":"1755058844801119"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/pixar-educational-consultancy/serviceAccounts/286970299360-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}","GCLOUD_PROJECT":"pixar-educational-consultancy","EVENTARC_CLOUD_EVENT_SOURCE":"projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onStudentChange","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250","triggerRegion":"us-central1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"students/{studentId}","operator":"match-path-pattern"}],"serviceAccountEmail":"286970299360-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"labels":{"deployment-tool":"cli-firebase--project-idx","firebase-functions-codebase":"metrics","firebase-functions-hash":"51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/pixar-educational-consultancy/locations/us-central1/services/onstudentchange"},{"name":"TRIGGER","message":"Deleting Eventarc trigger","state":"COMPLETE","resource":"projects/pixar-educational-consultancy/locations/us-central1/triggers/onstudentchange-148250"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's @typescript-eslint/eslint-plugin@5.62.0 does not satisfy @typescript-eslint/eslint-plugin@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/parser@5.62.0 does not satisfy @typescript-eslint/parser@7.18.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @typescript-eslint/scope-manager@5.62.0 does not satisfy @typescript-eslint/scope-manager@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/type-utils@5.62.0 does not satisfy @typescript-eslint/type-utils@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/utils@5.62.0 does not satisfy @typescript-eslint/utils@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/visitor-keys@5.62.0 does not satisfy @typescript-eslint/visitor-keys@7.18.0\nnpm error Missing: ts-api-utils@1.4.3 from lock file\nnpm error Invalid: lock file's @typescript-eslint/types@5.62.0 does not satisfy @typescript-eslint/types@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/typescript-estree@5.62.0 does not satisfy @typescript-eslint/typescript-estree@7.18.0\nnpm error Missing: minimatch@9.0.5 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Missing: brace-expansion@2.0.2 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-13T04_21_14_611Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360."}}
[debug] [2025-08-13T04:21:39.769Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's @typescript-eslint/eslint-plugin@5.62.0 does not satisfy @typescript-eslint/eslint-plugin@7.18.0
npm error Invalid: lock file's @typescript-eslint/parser@5.62.0 does not satisfy @typescript-eslint/parser@7.18.0
npm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1
npm error Invalid: lock file's @typescript-eslint/scope-manager@5.62.0 does not satisfy @typescript-eslint/scope-manager@7.18.0
npm error Invalid: lock file's @typescript-eslint/type-utils@5.62.0 does not satisfy @typescript-eslint/type-utils@7.18.0
npm error Invalid: lock file's @typescript-eslint/utils@5.62.0 does not satisfy @typescript-eslint/utils@7.18.0
npm error Invalid: lock file's @typescript-eslint/visitor-keys@5.62.0 does not satisfy @typescript-eslint/visitor-keys@7.18.0
npm error Missing: ts-api-utils@1.4.3 from lock file
npm error Invalid: lock file's @typescript-eslint/types@5.62.0 does not satisfy @typescript-eslint/types@7.18.0
npm error Invalid: lock file's @typescript-eslint/typescript-estree@5.62.0 does not satisfy @typescript-eslint/typescript-estree@7.18.0
npm error Missing: minimatch@9.0.5 from lock file
npm error Missing: @types/express@4.17.3 from lock file
npm error Missing: brace-expansion@2.0.2 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-13T04_21_14_611Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360.
[debug] [2025-08-13T04:21:39.799Z] Total Function Deployment time: 56104
[debug] [2025-08-13T04:21:39.799Z] 1 Functions Deployed
[debug] [2025-08-13T04:21:39.799Z] 1 Functions Errored
[debug] [2025-08-13T04:21:39.799Z] 0 Function Deployments Aborted
[debug] [2025-08-13T04:21:39.800Z] Average Function Deployment time: 56097
[info] 
[info] Functions deploy had errors with the following functions:
	metrics:onStudentChange(us-central1)
[debug] [2025-08-13T04:21:39.862Z] No OAuth tokens found
[debug] [2025-08-13T04:21:39.866Z] No OAuth tokens found
[debug] [2025-08-13T04:21:39.866Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/userinfo.email"]
[debug] [2025-08-13T04:21:39.866Z] > authorizing via signed-in user (shikharkc63@gmail.com)
[debug] [2025-08-13T04:21:39.866Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/pixar-educational-consultancy/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-13T04:21:40.834Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/pixar-educational-consultancy/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-13T04:21:40.841Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/pixar-educational-consultancy/locations/us-central1/repositories/gcf-artifacts {"name":"projects/pixar-educational-consultancy/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-13T03:53:47.449784Z","updateTime":"2025-08-13T03:54:28.288686Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-13T03:53:46.812298768Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/pixar-educational-consultancy/gcf-artifacts"}
[debug] [2025-08-13T04:21:40.841Z] Functions deploy failed.
[debug] [2025-08-13T04:21:40.841Z] {
  "endpoint": {
    "id": "onStudentChange",
    "project": "pixar-educational-consultancy",
    "region": "us-central1",
    "entryPoint": "onStudentChange",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.written",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "students/{studentId}"
      },
      "region": "us-central1"
    },
    "labels": {
      "deployment-tool": "cli-firebase--project-idx"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"pixar-educational-consultancy\",\"storageBucket\":\"pixar-educational-consultancy.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "pixar-educational-consultancy",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/pixar-educational-consultancy/locations/us-central1/services/onStudentChange"
    },
    "codebase": "metrics",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "51ccf298636e28afe3cbbd5e02ed3ca1d40c8508"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's @typescript-eslint/eslint-plugin@5.62.0 does not satisfy @typescript-eslint/eslint-plugin@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/parser@5.62.0 does not satisfy @typescript-eslint/parser@7.18.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @typescript-eslint/scope-manager@5.62.0 does not satisfy @typescript-eslint/scope-manager@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/type-utils@5.62.0 does not satisfy @typescript-eslint/type-utils@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/utils@5.62.0 does not satisfy @typescript-eslint/utils@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/visitor-keys@5.62.0 does not satisfy @typescript-eslint/visitor-keys@7.18.0\nnpm error Missing: ts-api-utils@1.4.3 from lock file\nnpm error Invalid: lock file's @typescript-eslint/types@5.62.0 does not satisfy @typescript-eslint/types@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/typescript-estree@5.62.0 does not satisfy @typescript-eslint/typescript-estree@7.18.0\nnpm error Missing: minimatch@9.0.5 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Missing: brace-expansion@2.0.2 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-13T04_21_14_611Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's @typescript-eslint/eslint-plugin@5.62.0 does not satisfy @typescript-eslint/eslint-plugin@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/parser@5.62.0 does not satisfy @typescript-eslint/parser@7.18.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @typescript-eslint/scope-manager@5.62.0 does not satisfy @typescript-eslint/scope-manager@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/type-utils@5.62.0 does not satisfy @typescript-eslint/type-utils@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/utils@5.62.0 does not satisfy @typescript-eslint/utils@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/visitor-keys@5.62.0 does not satisfy @typescript-eslint/visitor-keys@7.18.0\nnpm error Missing: ts-api-utils@1.4.3 from lock file\nnpm error Invalid: lock file's @typescript-eslint/types@5.62.0 does not satisfy @typescript-eslint/types@7.18.0\nnpm error Invalid: lock file's @typescript-eslint/typescript-estree@5.62.0 does not satisfy @typescript-eslint/typescript-estree@7.18.0\nnpm error Missing: minimatch@9.0.5 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Missing: brace-expansion@2.0.2 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-13T04_21_14_611Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/03d8ae43-abde-46eb-8016-f1a05a882966?project=286970299360."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-08-13T04:21:40.856Z] Error: Failed to create function onStudentChange in region us-central1
    at /home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.createV2Function (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:278:30)
    at async Fabricator.createEndpoint (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:137:13)
    at async handle (/home/user/.global_modules/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-08-13T09:26:03.906Z] ----------------------------------------------------------------------
[debug] [2025-08-13T09:26:03.909Z] Command:       /nix/store/ws50yvm6vzlzf7jzz6n7xh4szddrack1-nodejs-20.19.1/bin/node /nix/store/4ba3nh7p56fsnidgr9jcqnpv4k7nwwrv-firebase-tools-14.12.0/lib/node_modules/firebase-tools/lib/bin/firebase.js emulators:start --project=demo-app --only=auth,firestore
[debug] [2025-08-13T09:26:03.910Z] CLI Version:   14.12.0
[debug] [2025-08-13T09:26:03.910Z] Platform:      linux
[debug] [2025-08-13T09:26:03.910Z] Node Version:  v20.19.1
[debug] [2025-08-13T09:26:03.910Z] Time:          Wed Aug 13 2025 09:26:03 GMT+0000 (Coordinated Universal Time)
[debug] [2025-08-13T09:26:03.910Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-13T09:26:04.959Z] openjdk version "21.0.7" 2025-04-15
OpenJDK Runtime Environment (build 21.0.7+6-nixos)
OpenJDK 64-Bit Server VM (build 21.0.7+6-nixos, mixed mode, sharing)

[debug] [2025-08-13T09:26:04.985Z] Parsed Java major version: 21
[info] i  emulators: Starting emulators: firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: firestore"}}
[info] i  emulators: Detected demo project ID "demo-app", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail. {"metadata":{"emulator":{"name":"hub"},"message":"Detected demo project ID \"demo-app\", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail."}}
[warn] ⚠  auth: Not starting the auth emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"auth"},"message":"Not starting the auth emulator, make sure you have run firebase init."}}
[warn] ⚠  hub: Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400 {"metadata":{"emulator":{"name":"hub"},"message":"Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400"}}
[warn] ⚠  hub: Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"hub"},"message":"Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  hub: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"hub"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  ui: Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000 {"metadata":{"emulator":{"name":"ui"},"message":"Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000"}}
[warn] ⚠  ui: Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"ui"},"message":"Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  ui: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"ui"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  logging: Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500 {"metadata":{"emulator":{"name":"logging"},"message":"Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500"}}
[warn] ⚠  logging: Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"logging"},"message":"Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  logging: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"logging"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore: Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080"}}
[warn] ⚠  firestore: Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore.websocket: Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150"}}
[warn] ⚠  firestore: Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[debug] [2025-08-13T09:26:04.998Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-08-13T09:26:05.006Z] [hub] writing locator at /tmp/hub-demo-app.json
[debug] [2025-08-13T09:26:05.034Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-08-13T09:26:05.035Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-08-13T09:26:05.035Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","demo-app","--rules","/home/user/studio/firestore.rules","--single_project_mode",true],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"demo-app\",\"--rules\",\"/home/user/studio/firestore.rules\",\"--single_project_mode\",true],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to firestore-debug.log"}}
[debug] [2025-08-13T09:26:08.714Z] Aug 13, 2025 9:26:08 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Aug 13, 2025 9:26:08 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2025-08-13T09:26:08.973Z] API endpoint: http:// {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://"}}
[debug] [2025-08-13T09:26:08.977Z] 127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"127.0.0.1:8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nIf you are running a Firestore in Datastore Mode project, run:\n\n   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080\n\nNote: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-08-13T09:26:09.252Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Firestore │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-08-19T13:34:44.454Z] ----------------------------------------------------------------------
[debug] [2025-08-19T13:34:44.465Z] Command:       /nix/store/ws50yvm6vzlzf7jzz6n7xh4szddrack1-nodejs-20.19.1/bin/node /nix/store/4ba3nh7p56fsnidgr9jcqnpv4k7nwwrv-firebase-tools-14.12.0/lib/node_modules/firebase-tools/lib/bin/firebase.js emulators:start --project=demo-app --only=auth,firestore
[debug] [2025-08-19T13:34:44.468Z] CLI Version:   14.12.0
[debug] [2025-08-19T13:34:44.470Z] Platform:      linux
[debug] [2025-08-19T13:34:44.470Z] Node Version:  v20.19.1
[debug] [2025-08-19T13:34:44.470Z] Time:          Tue Aug 19 2025 13:34:44 GMT+0000 (Coordinated Universal Time)
[debug] [2025-08-19T13:34:44.470Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-19T13:34:44.480Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-08-19T13:34:46.247Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-08-19T13:34:46.247Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-08-19T13:34:46.557Z] openjdk version "21.0.7" 2025-04-15

[debug] [2025-08-19T13:34:46.560Z] OpenJDK Runtime Environment (build 21.0.7+6-nixos)
OpenJDK 64-Bit Server VM (build 21.0.7+6-nixos, mixed mode, sharing)

[debug] [2025-08-19T13:34:46.590Z] Parsed Java major version: 21
[info] i  emulators: Starting emulators: firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: firestore"}}
[info] i  emulators: Detected demo project ID "demo-app", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail. {"metadata":{"emulator":{"name":"hub"},"message":"Detected demo project ID \"demo-app\", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail."}}
[warn] ⚠  auth: Not starting the auth emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"auth"},"message":"Not starting the auth emulator, make sure you have run firebase init."}}
[warn] ⚠  hub: Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400 {"metadata":{"emulator":{"name":"hub"},"message":"Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400"}}
[warn] ⚠  hub: Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"hub"},"message":"Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  hub: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"hub"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  ui: Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000 {"metadata":{"emulator":{"name":"ui"},"message":"Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000"}}
[warn] ⚠  ui: Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"ui"},"message":"Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  ui: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"ui"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  logging: Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500 {"metadata":{"emulator":{"name":"logging"},"message":"Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500"}}
[warn] ⚠  logging: Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"logging"},"message":"Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  logging: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"logging"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore: Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080"}}
[warn] ⚠  firestore: Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore.websocket: Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150"}}
[warn] ⚠  firestore: Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[debug] [2025-08-19T13:34:46.602Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-08-19T13:34:46.608Z] [hub] writing locator at /tmp/hub-demo-app.json
[debug] [2025-08-19T13:34:46.621Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-08-19T13:34:46.622Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-08-19T13:34:46.622Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","demo-app","--rules","/home/user/studio/firestore.rules","--single_project_mode",true],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"demo-app\",\"--rules\",\"/home/user/studio/firestore.rules\",\"--single_project_mode\",true],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to firestore-debug.log"}}
[debug] [2025-08-19T13:34:50.341Z] Aug 19, 2025 1:34:50 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Aug 19, 2025 1:34:50 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2025-08-19T13:34:50.415Z] API endpoint: http:// {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://"}}
[debug] [2025-08-19T13:34:50.418Z] 127.0.0.1:8080 {"metadata":{"emulator":{"name":"firestore"},"message":"127.0.0.1:8080"}}
[debug] [2025-08-19T13:34:50.421Z] 
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nIf you are running a Firestore in Datastore Mode project, run:\n\n   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080\n\nNote: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-08-19T13:34:50.564Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Firestore │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-08-20T10:46:59.267Z] ----------------------------------------------------------------------
[debug] [2025-08-20T10:46:59.272Z] Command:       /nix/store/ws50yvm6vzlzf7jzz6n7xh4szddrack1-nodejs-20.19.1/bin/node /nix/store/4ba3nh7p56fsnidgr9jcqnpv4k7nwwrv-firebase-tools-14.12.0/lib/node_modules/firebase-tools/lib/bin/firebase.js emulators:start --project=demo-app --only=auth,firestore
[debug] [2025-08-20T10:46:59.273Z] CLI Version:   14.12.0
[debug] [2025-08-20T10:46:59.273Z] Platform:      linux
[debug] [2025-08-20T10:46:59.273Z] Node Version:  v20.19.1
[debug] [2025-08-20T10:46:59.274Z] Time:          Wed Aug 20 2025 10:46:59 GMT+0000 (Coordinated Universal Time)
[debug] [2025-08-20T10:46:59.274Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-20T10:47:00.605Z] openjdk version "21.0.7" 2025-04-15

[debug] [2025-08-20T10:47:00.608Z] OpenJDK Runtime Environment (build 21.0.7+6-nixos)
OpenJDK 64-Bit Server VM (build 21.0.7+6-nixos, mixed mode, sharing)

[debug] [2025-08-20T10:47:00.640Z] Parsed Java major version: 21
[info] i  emulators: Starting emulators: firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: firestore"}}
[info] i  emulators: Detected demo project ID "demo-app", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail. {"metadata":{"emulator":{"name":"hub"},"message":"Detected demo project ID \"demo-app\", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail."}}
[warn] ⚠  auth: Not starting the auth emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"auth"},"message":"Not starting the auth emulator, make sure you have run firebase init."}}
[warn] ⚠  hub: Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400 {"metadata":{"emulator":{"name":"hub"},"message":"Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400"}}
[warn] ⚠  hub: Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"hub"},"message":"Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  hub: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"hub"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  ui: Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000 {"metadata":{"emulator":{"name":"ui"},"message":"Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000"}}
[warn] ⚠  ui: Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"ui"},"message":"Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  ui: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"ui"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  logging: Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500 {"metadata":{"emulator":{"name":"logging"},"message":"Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500"}}
[warn] ⚠  logging: Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"logging"},"message":"Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  logging: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"logging"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore: Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080"}}
[warn] ⚠  firestore: Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore.websocket: Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150"}}
[warn] ⚠  firestore: Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[debug] [2025-08-20T10:47:00.659Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-08-20T10:47:00.667Z] [hub] writing locator at /tmp/hub-demo-app.json
[debug] [2025-08-20T10:47:00.688Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-08-20T10:47:00.688Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-08-20T10:47:00.689Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","demo-app","--rules","/home/user/studio/firestore.rules","--single_project_mode",true],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"demo-app\",\"--rules\",\"/home/user/studio/firestore.rules\",\"--single_project_mode\",true],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to firestore-debug.log"}}
[debug] [2025-08-20T10:47:06.560Z] Aug 20, 2025 10:47:06 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Aug 20, 2025 10:47:06 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2025-08-20T10:47:06.821Z] API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST= {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://127.0.0.1:8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nIf you are running a Firestore in Datastore Mode project, run:\n\n   export DATASTORE_EMULATOR_HOST="}}
[debug] [2025-08-20T10:47:06.824Z] 127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"127.0.0.1:8080\n\nNote: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-08-20T10:47:07.162Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Firestore │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-08-21T12:15:51.431Z] ----------------------------------------------------------------------
[debug] [2025-08-21T12:15:51.443Z] Command:       /nix/store/ws50yvm6vzlzf7jzz6n7xh4szddrack1-nodejs-20.19.1/bin/node /nix/store/4ba3nh7p56fsnidgr9jcqnpv4k7nwwrv-firebase-tools-14.12.0/lib/node_modules/firebase-tools/lib/bin/firebase.js emulators:start --project=demo-app --only=auth,firestore
[debug] [2025-08-21T12:15:51.446Z] CLI Version:   14.12.0
[debug] [2025-08-21T12:15:51.447Z] Platform:      linux
[debug] [2025-08-21T12:15:51.447Z] Node Version:  v20.19.1
[debug] [2025-08-21T12:15:51.448Z] Time:          Thu Aug 21 2025 12:15:51 GMT+0000 (Coordinated Universal Time)
[debug] [2025-08-21T12:15:51.450Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-21T12:15:51.460Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-08-21T12:15:53.910Z] openjdk version "21.0.7" 2025-04-15

[debug] [2025-08-21T12:15:53.912Z] OpenJDK Runtime Environment (build 21.0.7+6-nixos)
OpenJDK 64-Bit Server VM (build 21.0.7+6-nixos, mixed mode, sharing)

[debug] [2025-08-21T12:15:53.969Z] Parsed Java major version: 21
[info] i  emulators: Starting emulators: firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: firestore"}}
[info] i  emulators: Detected demo project ID "demo-app", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail. {"metadata":{"emulator":{"name":"hub"},"message":"Detected demo project ID \"demo-app\", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail."}}
[warn] ⚠  auth: Not starting the auth emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"auth"},"message":"Not starting the auth emulator, make sure you have run firebase init."}}
[warn] ⚠  hub: Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400 {"metadata":{"emulator":{"name":"hub"},"message":"Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400"}}
[warn] ⚠  hub: Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"hub"},"message":"Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  hub: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"hub"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  ui: Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000 {"metadata":{"emulator":{"name":"ui"},"message":"Error when trying to check port 4000 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4000"}}
[warn] ⚠  ui: Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"ui"},"message":"Port 4000 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  ui: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"ui"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  logging: Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500 {"metadata":{"emulator":{"name":"logging"},"message":"Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500"}}
[warn] ⚠  logging: Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"logging"},"message":"Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  logging: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"logging"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore: Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 8080 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:8080"}}
[warn] ⚠  firestore: Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 8080 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  firestore.websocket: Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150 {"metadata":{"emulator":{"name":"firestore"},"message":"Error when trying to check port 9150 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9150"}}
[warn] ⚠  firestore: Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 9150 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  firestore: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"firestore"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[debug] [2025-08-21T12:15:53.992Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-08-21T12:15:54.004Z] [hub] writing locator at /tmp/hub-demo-app.json
[debug] [2025-08-21T12:15:54.035Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2025-08-21T12:15:54.035Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2025-08-21T12:15:54.036Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","demo-app","--rules","/home/user/studio/firestore.rules","--single_project_mode",true],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false,"port":8080} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/nix/store/8srlj4j2m67g5852hw1ain98qzznyamj-emulators/cloud-firestore-emulator-v1.19.8.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"demo-app\",\"--rules\",\"/home/user/studio/firestore.rules\",\"--single_project_mode\",true],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false,\"port\":8080}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to firestore-debug.log"}}
[debug] [2025-08-21T12:15:54.085Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-08-21T12:15:54.087Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-08-21T12:15:59.309Z] Aug 21, 2025 12:15:59 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Aug 21, 2025 12:15:59 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2025-08-21T12:15:59.399Z] API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
 {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://127.0.0.1:8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nIf you are running a Firestore in Datastore Mode project, run:\n\n   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080\n\nNote: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.\n"}}
[debug] [2025-08-21T12:15:59.405Z] Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"Dev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2025-08-21T12:15:59.705Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Firestore │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
